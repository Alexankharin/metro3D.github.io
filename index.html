<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>mosmetro</title>
		<style>
			#info {
				position: absolute;
				top: 10px;
				width: 100%;
				text-align: center;
				z-index: 100;
				display:block;
				color:#ffffff;
			}
		</style>
	</head>
	<body>
		<div id="canvas">
		</div>
		<div id="info">
		</div>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/109/three.min.js"></script>
		<script src="https://threejs.org/examples/js/controls/OrbitControls.js"></script>
		<script>
		var metro_data = 
{'x': [2.57, 2.46, 2.26, 1.97, 1.82, 1.71, 1.58, 1.45, 1.24, 1.02, 0.78, 0.64,
0.49, 0.29, 0.1, -0.11, -0.39, -0.59, -0.76, -0.92, -1.08, -1.21, -1.02, -0.85,
-0.67, -0.49, -0.27, -0.04, 0.15, 0.41, 0.73, 0.96, 1.07, 1.09, 1.39, 1.56,
1.82, 2.0, 2.16, 2.37, 2.73, 3.0, 3.36, 3.64, 4.0, 4.38, 3.81, 3.56, 3.23,
2.81, 2.58, 2.33, 1.83, 1.51, 0.97, 0.7, 0.39, 0.21, -0.32, -0.68, -0.92,
-1.12, -1.34, -1.79, -2.02, -2.22, -2.42, -2.56, -1.27, -1.51, -1.33, -1.12,
-0.85, -0.57, -0.36, -0.12, 0.06, 0.37, 0.56, -0.72, -0.82, 0.64, 0.94, 1.19,
1.47, 1.7, 1.73, 1.7, 1.25, 0.86, 0.6, 0.44, 0.36, 1.86, 1.8, 1.78, 1.72, 1.61,
1.57, 1.54, 1.47, 1.61, 1.62, 1.55, 1.41, 1.12, 1.05, 0.81, 0.74, 0.68, 0.64,
0.6, 0.57, 0.56, 0.56, 0.63, 0.75, -0.65, -0.58, -0.46, -0.39, -0.26, -0.13,
0.02, 0.37, 0.59, 0.71, 1.06, 1.23, 1.43, 1.78, 2.03, 2.2, 2.47, 2.69, 2.91,
3.13, 3.44, 3.65, 3.77, 4.3, 3.72, 3.38, 2.93, 2.62, 2.24, 1.89, 1.63, 0.5,
-0.01, -0.3, -0.36, -0.89, -0.56, -0.91, -1.44, -1.73, -2.19, -2.77, -3.21,
-3.63, -4.04, -4.33, -4.61, 1.14, 1.11, 1.08, 1.05, 1.02, 0.92, 0.9, 0.87,
0.97, 1.08, 0.98, 0.78, 0.93, 1.12, 1.14, 1.27, 1.37, 1.48, 1.61, 1.61, 1.61,
1.61, 1.61, 1.57, 1.43, 1.17, 1.12, 1.09, 1.12, 1.48, 1.68, 1.69, 1.58, 1.45,
1.68, 1.86, 2.21, 2.41, 2.7, 2.96, 3.47, 3.8, 4.1, 4.35, 4.49, 4.6, 4.61, 4.43,
2.42, 2.16, 1.86, -1.01, -0.9, -1.0, -0.36, -0.44, -0.3, -0.38, -0.01, -0.07,
0.51, 0.48, 0.88, 1.09, 1.29, 1.33, 1.34, 1.35, 1.36, 1.82, 1.2, 0.79, 0.21,
-0.49, -1.11, -1.42, -1.46, -1.53, -1.38, -1.1, -1.02, -0.75, -0.26, 0.42,
0.67, 1.06, 1.69, 2.13, 2.59, 2.86, 3.13, 3.37, 3.5, 3.48, 3.39, 2.98, 2.73,
2.64, 2.46, 2.15, 3.77, 4.02, 4.18, 4.43], 'y': [2.39, 2.17, 1.95, 1.72, 1.61,
1.54, 1.48, 1.41, 1.27, 1.03, 0.89, 0.75, 0.55, 0.46, 0.34, 0.25, 0.14, 0.07,
0.0, -0.05, -0.11, -0.16, 3.37, 3.15, 2.95, 2.79, 2.58, 2.33, 2.13, 1.87, 1.55,
1.34, 1.21, 1.03, 0.75, 0.51, 0.16, -0.1, -0.37, -0.77, -0.99, -1.13, -1.3,
-1.4, -1.41, -1.72, 2.76, 2.58, 2.31, 1.99, 1.88, 1.74, 1.43, 1.2, 0.92, 0.89,
0.83, 0.86, 0.94, 0.78, 0.65, 0.6, 0.55, 0.48, 0.46, 0.44, 0.44, 0.44, 0.31,
0.08, 0.05, 0.11, 0.25, 0.43, 0.57, 0.76, 0.68, 0.72, 0.79, 0.9, 0.83, 0.49,
0.4, 0.4, 0.48, 0.79, 1.13, 1.64, 1.86, 1.87, 1.64, 1.32, 0.9, 3.61, 3.36,
3.15, 2.94, 2.5, 2.22, 1.97, 1.76, 1.48, 1.32, 1.11, 0.71, 0.4, 0.2, -0.03,
-0.38, -0.63, -0.84, -1.13, -1.49, -1.75, -2.08, -2.48, -2.8, 3.63, 3.43, 3.12,
2.94, 2.62, 2.3, 1.95, 1.7, 1.52, 1.39, 1.32, 1.27, 1.18, 1.03, 1.08, 1.18,
1.39, 1.56, 1.73, 1.9, 2.12, 2.23, 2.28, 1.21, 1.12, 1.08, 1.04, 0.99, 0.95,
0.78, 0.73, 2.44, 2.34, 2.23, 2.01, 1.44, 1.05, 1.07, 1.14, 1.17, 1.22, 1.27,
1.32, 1.38, 1.45, 1.5, 1.55, 4.68, 4.35, 3.9, 3.52, 3.25, 2.8, 2.52, 2.22,
1.95, 1.59, 1.32, 0.98, 0.61, 0.37, -0.06, -0.6, -0.91, -1.19, -1.45, -1.77,
-2.24, -2.55, -2.86, -3.13, -3.44, 4.26, 3.86, 3.58, 3.31, 3.26, 2.92, 2.43,
2.04, 1.69, 1.46, 1.45, 1.25, 1.28, 1.26, 1.25, 1.15, 1.01, 0.67, 0.23, -0.11,
-0.51, -0.86, -1.16, -1.17, -1.63, -1.63, 1.31, 1.45, 1.47, 2.02, 2.09, 2.24,
2.32, 2.35, 2.45, 2.45, 2.56, -3.06, -3.38, -3.53, -4.1, -4.25, -4.46, -4.68,
3.46, 3.81, 4.02, 4.05, 3.83, 3.18, 2.78, 2.3, 1.85, 1.48, 1.19, 0.76, 0.42,
0.07, -0.08, -0.38, -0.56, -0.48, -0.23, -0.1, 0.03, 0.29, 0.64, 1.23, 1.63,
2.0, 2.37, 2.66, 3.12, 3.49, 3.54, 2.37, 2.53, 2.63, 2.77], 'z': [2.64, 2.27,
2.11, 1.7, 1.36, 1.02, 0.78, 0.52, 0.34, 0.38, 0.3, 0.61, 0.7, 1.1, 1.3, 1.73,
2.28, 2.66, 3.0, 3.34, 3.69, 3.97, 2.6, 2.35, 2.07, 1.75, 1.38, 1.03, 0.74,
0.33, 0.2, 0.12, 0.06, 0.23, 0.29, 0.13, 0.14, 0.0, -0.13, -0.3, -0.53, -0.68,
-0.86, -0.97, -1.17, -1.37, 1.25, 1.16, 1.11, 1.09, 0.46, 0.09, -0.41, -0.27,
-0.21, -0.2, -0.27, -0.19, -0.55, -1.02, -1.26, -1.63, -2.02, -2.81, -3.18,
-3.49, -3.78, -3.97, -1.12, -0.63, -0.35, -0.11, 0.09, 0.25, 0.05, -0.08,
-0.15, -0.16, -0.09, 0.2, 0.39, 0.07, 0.11, 0.0, 0.0, -0.05, 0.0, 0.24, 0.34,
0.22, 0.22, -0.03, 0.01, 2.44, 2.16, 1.88, 1.64, 1.39, 1.13, 0.82, 0.58, 0.55,
0.47, 0.34, 0.41, 0.45, 0.68, 1.02, 1.24, 1.38, 1.5, 1.64, 1.76, 1.8, 1.82,
1.75, 1.64, -1.93, -1.81, -1.6, -1.47, -1.22, -0.92, -0.63, -0.7, -0.56, -0.35,
-0.11, 0.05, 0.07, -0.2, -0.49, -0.85, -1.38, -1.76, -2.12, -2.44, -2.85,
-3.18, -3.44, 1.2, 0.94, 0.8, 0.64, 0.33, 0.11, 0.06, 0.32, -0.13, -0.17,
-0.27, -0.33, 0.01, -0.56, -0.75, -0.9, -0.93, -0.95, -0.96, -0.97, -0.99,
-1.03, -1.07, -1.1, 0.61, 0.61, 0.6, 0.59, 0.3, 0.07, 0.0, -0.01, 0.0, -0.12,
-0.18, -0.18, -0.28, -0.19, -0.38, -0.39, -0.46, -0.49, -0.49, -0.44, -0.31,
-0.17, -0.01, 0.18, 0.5, 0.13, 0.22, 0.29, 0.3, 0.16, 0.02, -0.06, -0.02, 0.07,
0.32, 0.04, -0.07, -0.38, -0.46, -0.58, -0.75, -0.84, -0.92, -1.02, -1.08,
-1.14, -1.11, -1.12, -0.34, -0.52, -0.6, 0.08, 0.03, 0.01, -0.31, -0.37, -0.25,
-0.31, -0.15, -0.22, -0.11, -0.2, 1.53, 1.29, 0.85, 0.98, 1.02, 1.08, 1.14,
1.76, 1.51, 1.6, 1.73, 1.76, 1.53, 1.34, 1.1, 1.01, 0.79, 0.5, 0.72, 0.78,
1.02, 1.14, 1.47, 1.63, 1.77, 1.61, 1.66, 2.0, 2.31, 2.51, 2.38, 2.06, 2.22,
2.28, 2.37, 2.49, 2.42, 2.05, -3.16, -3.45, -3.66, -3.94],
'color': [10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10,
10, 10, 10, 10, 10, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6,
6, 6, 6, 6, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
13, 13, 13, 13, 13, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 12, 12, 12, 12, 12,
12, 12, 12, 12, 12, 12, 12, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
5, 5, 5, 5, 5, 5, 5, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
2, 2, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
4, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14,
14, 14, 14, 14, 9, 9, 9, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 7, 7, 7,
7, 7, 7, 7, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0],
'name': ['Бульвар Рокоссовского', 'Черкизовская', 'Преображенская площадь',
'Сокольники', 'Красносельская', 'Комсомольская', 'Красные Ворота', 'Чистые пруды', 'Лубянка', 'Охотный Ряд', 'Библиотека имени Ленина', 'Кропоткинская',
'Парк культуры', 'Фрунзенская', 'Спортивная', 'Воробьёвы горы', 'Университет',
'Проспект Вернадского', 'Юго-Западная', 'Тропарёво', 'Румянцево', 'Саларьево',
'Ховрино', 'Беломорская', 'Речной вокзал', 'Водный стадион', 'Войковская',
'Сокол', 'Аэропорт', 'Динамо', 'Белорусская', 'Маяковская', 'Тверская',
'Театральная', 'Новокузнецкая', 'Павелецкая', 'Автозаводская', 'Технопарк',
'Коломенская', 'Каширская', 'Кантемировская', 'Царицыно', 'Орехово',
'Домодедовская', 'Красногвардейская', 'Алма-Атинская', 'Щёлковская',
'Первомайская', 'Измайловская', 'Партизанская', 'Семёновская',
'Электрозаводская', 'Бауманская', 'Курская', 'Площадь Революции', 'Арбатская',
'Смоленская', 'Киевская', 'Парк Победы', 'Славянский бульвар', 'Кунцевская',
'Молодёжная', 'Крылатское', 'Строгино', 'Мякинино', 'Волоколамская', 'Митино',
'Пятницкое шоссе', 'Кунцевская', 'Пионерская', 'Филёвский парк',
'Багратионовская', 'Фили', 'Кутузовская', 'Студенческая', 'Киевская',
'Смоленская', 'Арбатская', 'Александровский сад', 'Выставочная',
'Международная', 'Парк культуры', 'Октябрьская', 'Добрынинская', 'Павелецкая',
'Таганская', 'Курская', 'Комсомольская', 'Проспект Мира', 'Новослободская',
'Белорусская', 'Краснопресненская', 'Киевская', 'Медведково', 'Бабушкинская',
'Свиблово', 'Ботанический сад', 'ВДНХ', 'Алексеевская', 'Рижская', 'Проспект Мира', 'Сухаревская', 'Тургеневская', 'Китай-город', 'Третьяковская',
'Октябрьская', 'Шаболовская', 'Ленинский проспект', 'Академическая',
'Профсоюзная', 'Новые Черёмушки', 'Калужская', 'Беляево', 'Коньково', 'Тёплый Стан', 'Ясенево', 'Новоясеневская', 'Планерная', 'Сходненская', 'Тушинская',
'Спартак', 'Щукинская', 'Октябрьское Поле', 'Полежаевская', 'Беговая', 'Улица 1905 года', 'Баррикадная', 'Пушкинская', 'Кузнецкий Мост', 'Китай-город',
'Таганская', 'Пролетарская', 'Волгоградский проспект', 'Текстильщики',
'Кузьминки', 'Рязанский проспект', 'Выхино', 'Лермонтовский проспект',
'Жулебино', 'Котельники', 'Новокосино', 'Новогиреево', 'Перово', 'Шоссе Энтузиастов', 'Авиамоторная', 'Площадь Ильича', 'Марксистская',
'Третьяковская', 'Савёловская', 'Петровский парк', 'ЦСКА', 'Хорошёвская',
'Шелепиха', 'Парк Победы', 'Минская', 'Ломоносовский проспект', 'Раменки',
'Мичуринский проспект', 'Озёрная', 'Говорово', 'Солнцево', 'Боровское шоссе',
'Новопеределкино', 'Рассказовка', 'Алтуфьево', 'Бибирево', 'Отрадное',
'Владыкино', 'Петровско-Разумовская', 'Тимирязевская', 'Дмитровская',
'Савёловская', 'Менделеевская', 'Цветной бульвар', 'Чеховская', 'Боровицкая',
'Полянка', 'Серпуховская', 'Тульская', 'Нагатинская', 'Нагорная', 'Нахимовский проспект', 'Севастопольская', 'Чертановская', 'Южная', 'Пражская', 'Улица Академика Янгеля', 'Аннино', 'Бульвар Дмитрия Донского', 'Селигерская',
'Верхние Лихоборы', 'Окружная', 'Петровско-Разумовская', 'Фонвизинская',
'Бутырская', 'Марьина Роща', 'Достоевская', 'Трубная', 'Сретенский бульвар',
'Чкаловская', 'Римская', 'Крестьянская Застава', 'Дубровка', 'Кожуховская',
'Печатники', 'Волжская', 'Люблино', 'Братиславская', 'Марьино', 'Борисово',
'Шипиловская', 'Зябликово', 'Каширская', 'Варшавская', 'Каховская', 'Деловой центр', 'Шелепиха', 'error', 'Хорошёвская', 'error', 'ЦСКА', 'error',
'Петровский парк', 'error', 'Савёловская', 'error', 'Битцевский парк',
'Лесопарковая', 'Улица Старокачаловская', 'Улица Скобелевская', 'Бульвар Адмирала Ушакова', 'Улица Горчакова', 'Бунинская аллея', 'Ботанический сад',
'Владыкино', 'Окружная', 'Лихоборы', 'Коптево', 'Балтийская', 'Стрешнево',
'Панфиловская', 'Зорге', 'Хорошёво', 'Шелепиха', 'Деловой центр',
'Кутузовская', 'Лужники', 'Площадь Гагарина', 'Крымская', 'Верхние Котлы',
'ЗИЛ', 'Автозаводская', 'Дубровка', 'Угрешская', 'Новохохловская',
'Нижегородская', 'Андроновка', 'Шоссе Энтузиастов', 'Соколиная гора',
'Измайлово', 'Локомотив', 'Бульвар Рокоссовского', 'Белокаменная', 'Ростокино',
'Косино', 'Улица Дмитриевского', 'Лухмановская', 'Некрасовка']};

var metro_colors = [0xe66ac0, 0x8E479B, 0xffc61a, 0xFFA8AF, 0xA1A2A3, 0xF58220, 0x48B85E, 0xACBFE3, 0x00C1F3, 0x6AC9C8, 0xDA2128, 0x6FC1BA, 0x894E35, 0x0078BF, 0xB4D445, 0xFFFFFF];

var metro_links = 
    [{'n': [0, 261], 'c': 15},
         {'n': [0, 1], 'c': 10},
         {'n': [1, 260], 'c': 15},
         {'n': [1, 2], 'c': 10},
         {'n': [2, 3], 'c': 10},
         {'n': [3, 4], 'c': 10},
         {'n': [4, 5], 'c': 10},
         {'n': [5, 6], 'c': 10},
         {'n': [5, 87], 'c': 15},
         {'n': [6, 7], 'c': 10},
         {'n': [7, 8], 'c': 10},
         {'n': [7, 102], 'c': 15},
         {'n': [7, 198], 'c': 15},
         {'n': [8, 9], 'c': 10},
         {'n': [8, 128], 'c': 15},
         {'n': [9, 10], 'c': 10},
         {'n': [9, 33], 'c': 15},
         {'n': [10, 11], 'c': 10},
         {'n': [10, 55], 'c': 15},
         {'n': [10, 78], 'c': 15},
         {'n': [10, 175], 'c': 15},
         {'n': [11, 12], 'c': 10},
         {'n': [12, 13], 'c': 10},
         {'n': [12, 81], 'c': 15},
         {'n': [13, 14], 'c': 10},
         {'n': [14, 246], 'c': 15},
         {'n': [14, 15], 'c': 10},
         {'n': [15, 16], 'c': 10},
         {'n': [16, 17], 'c': 10},
         {'n': [17, 18], 'c': 10},
         {'n': [18, 19], 'c': 10},
         {'n': [19, 20], 'c': 10},
         {'n': [20, 21], 'c': 10},
         {'n': [22, 23], 'c': 6},
         {'n': [23, 24], 'c': 6},
         {'n': [24, 25], 'c': 6},
         {'n': [25, 26], 'c': 6},
         {'n': [26, 238], 'c': 15},
         {'n': [26, 27], 'c': 6},
         {'n': [27, 28], 'c': 6},
         {'n': [28, 29], 'c': 6},
         {'n': [29, 30], 'c': 6},
         {'n': [29, 222], 'c': 15},
         {'n': [29, 149], 'c': 15},
         {'n': [30, 31], 'c': 6},
         {'n': [30, 90], 'c': 15},
         {'n': [31, 32], 'c': 6},
         {'n': [32, 33], 'c': 6},
         {'n': [32, 127], 'c': 15},
         {'n': [32, 174], 'c': 15},
         {'n': [33, 34], 'c': 6},
         {'n': [33, 54], 'c': 15},
         {'n': [34, 35], 'c': 6},
         {'n': [34, 104], 'c': 15},
         {'n': [34, 147], 'c': 15},
         {'n': [35, 36], 'c': 6},
         {'n': [35, 84], 'c': 15},
         {'n': [36, 251], 'c': 15},
         {'n': [36, 37], 'c': 6},
         {'n': [37, 38], 'c': 6},
         {'n': [38, 39], 'c': 6},
         {'n': [39, 40], 'c': 6},
         {'n': [39, 212], 'c': 15},
         {'n': [40, 41], 'c': 6},
         {'n': [41, 42], 'c': 6},
         {'n': [42, 43], 'c': 6},
         {'n': [43, 44], 'c': 6},
         {'n': [44, 211], 'c': 15},
         {'n': [44, 45], 'c': 6},
         {'n': [46, 47], 'c': 13},
         {'n': [47, 48], 'c': 13},
         {'n': [48, 49], 'c': 13},
         {'n': [49, 259], 'c': 15},
         {'n': [49, 50], 'c': 13},
         {'n': [50, 51], 'c': 13},
         {'n': [51, 52], 'c': 13},
         {'n': [52, 53], 'c': 13},
         {'n': [53, 54], 'c': 13},
         {'n': [53, 86], 'c': 15},
         {'n': [53, 199], 'c': 15},
         {'n': [54, 55], 'c': 13},
         {'n': [55, 56], 'c': 13},
         {'n': [55, 78], 'c': 15},
         {'n': [55, 175], 'c': 15},
         {'n': [56, 57], 'c': 13},
         {'n': [57, 58], 'c': 13},
         {'n': [57, 75], 'c': 15},
         {'n': [57, 92], 'c': 15},
         {'n': [58, 59], 'c': 13},
         {'n': [58, 153], 'c': 15},
         {'n': [59, 60], 'c': 13},
         {'n': [60, 61], 'c': 13},
         {'n': [60, 68], 'c': 15},
         {'n': [61, 62], 'c': 13},
         {'n': [62, 63], 'c': 13},
         {'n': [63, 64], 'c': 13},
         {'n': [64, 65], 'c': 13},
         {'n': [65, 66], 'c': 13},
         {'n': [66, 67], 'c': 13},
         {'n': [68, 69], 'c': 8},
         {'n': [69, 70], 'c': 8},
         {'n': [70, 71], 'c': 8},
         {'n': [71, 72], 'c': 8},
         {'n': [72, 73], 'c': 8},
         {'n': [73, 245], 'c': 15},
         {'n': [73, 74], 'c': 8},
         {'n': [74, 75], 'c': 8},
         {'n': [75, 76], 'c': 8},
         {'n': [75, 79], 'c': 8},
         {'n': [75, 92], 'c': 15},
         {'n': [76, 77], 'c': 8},
         {'n': [77, 78], 'c': 8},
         {'n': [79, 80], 'c': 8},
         {'n': [79, 215], 'c': 15},
         {'n': [80, 244], 'c': 15},
         {'n': [81, 82], 'c': 12},
         {'n': [81, 92], 'c': 12},
         {'n': [82, 83], 'c': 12},
         {'n': [82, 105], 'c': 15},
         {'n': [83, 84], 'c': 12},
         {'n': [83, 177], 'c': 15},
         {'n': [84, 85], 'c': 12},
         {'n': [85, 86], 'c': 12},
         {'n': [85, 130], 'c': 15},
         {'n': [85, 146], 'c': 15},
         {'n': [86, 87], 'c': 12},
         {'n': [86, 199], 'c': 15},
         {'n': [87, 88], 'c': 12},
         {'n': [88, 89], 'c': 12},
         {'n': [88, 100], 'c': 15},
         {'n': [89, 90], 'c': 12},
         {'n': [89, 172], 'c': 15},
         {'n': [90, 91], 'c': 12},
         {'n': [91, 92], 'c': 12},
         {'n': [91, 126], 'c': 15},
         {'n': [93, 94], 'c': 5},
         {'n': [94, 95], 'c': 5},
         {'n': [95, 96], 'c': 5},
         {'n': [96, 233], 'c': 15},
         {'n': [96, 97], 'c': 5},
         {'n': [97, 98], 'c': 5},
         {'n': [98, 99], 'c': 5},
         {'n': [99, 100], 'c': 5},
         {'n': [100, 101], 'c': 5},
         {'n': [101, 102], 'c': 5},
         {'n': [102, 103], 'c': 5},
         {'n': [102, 198], 'c': 15},
         {'n': [103, 104], 'c': 5},
         {'n': [103, 129], 'c': 15},
         {'n': [104, 105], 'c': 5},
         {'n': [104, 147], 'c': 15},
         {'n': [105, 106], 'c': 5},
         {'n': [106, 107], 'c': 5},
         {'n': [107, 247], 'c': 15},
         {'n': [107, 108], 'c': 5},
         {'n': [108, 109], 'c': 5},
         {'n': [109, 110], 'c': 5},
         {'n': [110, 111], 'c': 5},
         {'n': [111, 112], 'c': 5},
         {'n': [112, 113], 'c': 5},
         {'n': [113, 114], 'c': 5},
         {'n': [114, 115], 'c': 5},
         {'n': [115, 116], 'c': 5},
         {'n': [116, 226], 'c': 15},
         {'n': [117, 118], 'c': 1},
         {'n': [118, 119], 'c': 1},
         {'n': [119, 120], 'c': 1},
         {'n': [120, 121], 'c': 1},
         {'n': [121, 122], 'c': 1},
         {'n': [122, 240], 'c': 15},
         {'n': [122, 123], 'c': 1},
         {'n': [123, 242], 'c': 15},
         {'n': [123, 218], 'c': 15},
         {'n': [123, 151], 'c': 15},
         {'n': [123, 124], 'c': 1},
         {'n': [124, 125], 'c': 1},
         {'n': [125, 126], 'c': 1},
         {'n': [126, 127], 'c': 1},
         {'n': [127, 128], 'c': 1},
         {'n': [127, 174], 'c': 15},
         {'n': [128, 129], 'c': 1},
         {'n': [129, 130], 'c': 1},
         {'n': [130, 131], 'c': 1},
         {'n': [130, 146], 'c': 15},
         {'n': [131, 132], 'c': 1},
         {'n': [131, 201], 'c': 15},
         {'n': [132, 133], 'c': 1},
         {'n': [133, 134], 'c': 1},
         {'n': [134, 135], 'c': 1},
         {'n': [135, 136], 'c': 1},
         {'n': [136, 137], 'c': 1},
         {'n': [137, 138], 'c': 1},
         {'n': [137, 264], 'c': 15},
         {'n': [138, 139], 'c': 1},
         {'n': [140, 141], 'c': 2},
         {'n': [141, 142], 'c': 2},
         {'n': [142, 143], 'c': 2},
         {'n': [143, 257], 'c': 15},
         {'n': [143, 144], 'c': 2},
         {'n': [144, 145], 'c': 2},
         {'n': [145, 146], 'c': 2},
         {'n': [145, 200], 'c': 15},
         {'n': [146, 147], 'c': 2},
         {'n': [148, 225], 'c': 15},
         {'n': [148, 149], 'c': 2},
         {'n': [148, 171], 'c': 15},
         {'n': [149, 223], 'c': 15},
         {'n': [149, 150], 'c': 2},
         {'n': [150, 221], 'c': 15},
         {'n': [150, 151], 'c': 2},
         {'n': [151, 219], 'c': 15},
         {'n': [151, 242], 'c': 15},
         {'n': [151, 152], 'c': 2},
         {'n': [152, 217], 'c': 15},
         {'n': [152, 216], 'c': 15},
         {'n': [152, 243], 'c': 15},
         {'n': [152, 153], 'c': 2},
         {'n': [153, 154], 'c': 2},
         {'n': [154, 155], 'c': 2},
         {'n': [155, 156], 'c': 2},
         {'n': [156, 157], 'c': 2},
         {'n': [157, 158], 'c': 2},
         {'n': [158, 159], 'c': 2},
         {'n': [159, 160], 'c': 2},
         {'n': [160, 161], 'c': 2},
         {'n': [161, 162], 'c': 2},
         {'n': [162, 163], 'c': 2},
         {'n': [164, 165], 'c': 4},
         {'n': [165, 166], 'c': 4},
         {'n': [166, 167], 'c': 4},
         {'n': [167, 234], 'c': 15},
         {'n': [167, 168], 'c': 4},
         {'n': [168, 192], 'c': 15},
         {'n': [168, 169], 'c': 4},
         {'n': [169, 170], 'c': 4},
         {'n': [170, 171], 'c': 4},
         {'n': [171, 172], 'c': 4},
         {'n': [171, 224], 'c': 15},
         {'n': [172, 173], 'c': 4},
         {'n': [173, 174], 'c': 4},
         {'n': [173, 197], 'c': 15},
         {'n': [174, 175], 'c': 4},
         {'n': [175, 176], 'c': 4},
         {'n': [176, 177], 'c': 4},
         {'n': [177, 178], 'c': 4},
         {'n': [178, 179], 'c': 4},
         {'n': [179, 249], 'c': 15},
         {'n': [179, 180], 'c': 4},
         {'n': [180, 181], 'c': 4},
         {'n': [181, 182], 'c': 4},
         {'n': [182, 183], 'c': 4},
         {'n': [182, 214], 'c': 15},
         {'n': [183, 184], 'c': 4},
         {'n': [184, 185], 'c': 4},
         {'n': [185, 186], 'c': 4},
         {'n': [186, 187], 'c': 4},
         {'n': [187, 188], 'c': 4},
         {'n': [188, 228], 'c': 15},
         {'n': [189, 190], 'c': 14},
         {'n': [190, 191], 'c': 14},
         {'n': [191, 235], 'c': 15},
         {'n': [191, 192], 'c': 14},
         {'n': [192, 193], 'c': 14},
         {'n': [193, 194], 'c': 14},
         {'n': [194, 195], 'c': 14},
         {'n': [195, 196], 'c': 14},
         {'n': [196, 197], 'c': 14},
         {'n': [197, 198], 'c': 14},
         {'n': [198, 199], 'c': 14},
         {'n': [199, 200], 'c': 14},
         {'n': [200, 201], 'c': 14},
         {'n': [201, 202], 'c': 14},
         {'n': [202, 252], 'c': 15},
         {'n': [202, 203], 'c': 14},
         {'n': [203, 204], 'c': 14},
         {'n': [204, 205], 'c': 14},
         {'n': [205, 206], 'c': 14},
         {'n': [206, 207], 'c': 14},
         {'n': [207, 208], 'c': 14},
         {'n': [208, 209], 'c': 14},
         {'n': [209, 210], 'c': 14},
         {'n': [210, 211], 'c': 14},
         {'n': [212, 213], 'c': 9},
         {'n': [213, 214], 'c': 9},
         {'n': [215, 216], 'c': 11},
         {'n': [216, 217], 'c': 11},
         {'n': [216, 243], 'c': 15},
         {'n': [216, 218], 'c': 11},
         {'n': [218, 219], 'c': 11},
         {'n': [218, 242], 'c': 15},
         {'n': [218, 220], 'c': 11},
         {'n': [220, 221], 'c': 11},
         {'n': [220, 222], 'c': 11},
         {'n': [222, 223], 'c': 11},
         {'n': [222, 224], 'c': 11},
         {'n': [224, 225], 'c': 11},
         {'n': [226, 227], 'c': 7},
         {'n': [227, 228], 'c': 7},
         {'n': [228, 229], 'c': 7},
         {'n': [229, 230], 'c': 7},
         {'n': [230, 231], 'c': 7},
         {'n': [231, 232], 'c': 7},
         {'n': [233, 234], 'c': 3},
         {'n': [233, 263], 'c': 3},
         {'n': [234, 235], 'c': 3},
         {'n': [235, 236], 'c': 3},
         {'n': [236, 237], 'c': 3},
         {'n': [237, 238], 'c': 3},
         {'n': [238, 239], 'c': 3},
         {'n': [239, 240], 'c': 3},
         {'n': [240, 241], 'c': 3},
         {'n': [241, 242], 'c': 3},
         {'n': [242, 243], 'c': 3},
         {'n': [243, 244], 'c': 3},
         {'n': [244, 245], 'c': 3},
         {'n': [245, 246], 'c': 3},
         {'n': [246, 247], 'c': 3},
         {'n': [247, 248], 'c': 3},
         {'n': [248, 249], 'c': 3},
         {'n': [249, 250], 'c': 3},
         {'n': [250, 251], 'c': 3},
         {'n': [251, 252], 'c': 3},
         {'n': [252, 253], 'c': 3},
         {'n': [253, 254], 'c': 3},
         {'n': [254, 255], 'c': 3},
         {'n': [255, 256], 'c': 3},
         {'n': [256, 257], 'c': 3},
         {'n': [257, 258], 'c': 3},
         {'n': [258, 259], 'c': 3},
         {'n': [259, 260], 'c': 3},
         {'n': [260, 261], 'c': 3},
         {'n': [261, 262], 'c': 3},
         {'n': [262, 263], 'c': 3},
         {'n': [264, 265], 'c': 0},
         {'n': [265, 266], 'c': 0},
         {'n': [266, 267], 'c': 0}];
		</script>
		<script>
		var sizex = window.innerWidth;
var sizey= window.innerHeight;

var scene = new THREE.Scene();
var camera = new THREE.PerspectiveCamera( 75, sizex/ sizey, 0.1, 1000 );
var renderer = new THREE.WebGLRenderer();
var raycaster = new THREE.Raycaster();
var mouse = new THREE.Vector2();

renderer.setSize( sizex, sizey );

container = document.getElementById( 'canvas' );
document.body.appendChild( container );
container.appendChild( renderer.domElement );

var geometry = new THREE.SphereGeometry( .05, 32, 32 );
let materials = metro_colors.map(c => {
	return new THREE.MeshBasicMaterial( { color: c } );
});

var station_num = 268;
spheres = new Array();

for (var i = 0; i < station_num; i++) {
    var sphere = new THREE.Mesh( geometry, materials[metro_data['color'][i]] );
	sphere.name = metro_data['name'][i];
    sphere.position.set(metro_data['x'][i], metro_data['y'][i], metro_data['z'][i]);
	spheres.push(sphere);
    scene.add(sphere);
}

for (var i = 0; i < metro_links.length; i++){
    var line_geom = new THREE.Geometry();
    line_geom.vertices.push(spheres[metro_links[i]['n'][0]].position);
    line_geom.vertices.push(spheres[metro_links[i]['n'][1]].position);
    var line = new THREE.Line(line_geom, materials[metro_links[i]['c']]); 
    scene.add(line);
}


var controls = new THREE.OrbitControls( camera, renderer.domElement );

camera.position.z = 9;

function onMouseMove( event ) {
	mouse.x = ( event.clientX / window.innerWidth ) * 2 - 1;
	mouse.y = - ( event.clientY / window.innerHeight ) * 2 + 1;

}

function animate() {
	raycaster.setFromCamera( mouse, camera );

	// calculate objects intersecting the picking ray
	var intersects = raycaster.intersectObjects( spheres );
    if(intersects.length > 0) {
		document.getElementById("info").innerHTML=(intersects[ 0 ].object.name);

	}
	if (intersects.length == 0){
		document.getElementById("info").innerHTML="";
	}
	requestAnimationFrame( animate );
	renderer.render( scene, camera );
}

window.addEventListener( 'mousemove', onMouseMove, false );
window.requestAnimationFrame(animate);
		
		</script>
	</body>
</html>
